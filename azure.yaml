# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-dev/main/schemas/v1.0/azure.yaml.json

name: protect-apim-with-oauth
metadata:
  template: tdd-protect-apim-with-oauth@1.4.0
hooks:
  postprovision:
    - shell: pwsh
      run: ./hooks/postprovision-create-and-store-client-secrets.ps1
      interactive: true
  predown:
    - shell: pwsh
      run: ./hooks/predown-remove-app-registrations.ps1
      interactive: true
requiredVersions: 
  azd: ">= 1.17.0"  # azd version 1.17.0 or later is required because of Microsoft.Graph Bicep extension v1.0.0 and removal of the extensibility feature flag.
